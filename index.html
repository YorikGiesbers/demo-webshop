<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welcome to Fruit Shop - Fresh Fruits Online</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header role="banner">
      <div class="header-center">
        <a href="index.html" class="logo" aria-label="Go to homepage">
          <img
            src="img/fruit-shop-logo.png"
            class="logo-img"
            alt="Fruit Shop Logo"
          />
          <span class="products-text"> View Products </span>
        </a>
        <nav role="navigation" aria-label="Main navigation">
          <a
            href="basket.html"
            class="basket-link"
            aria-label="View shopping basket"
          >
            <img
              src="img/basket-icon.png"
              class="basket-img"
              alt="Shopping basket icon"
            />
            <span class="basket-text">View shopping basket</span>
          </a>
        </nav>
      </div>
    </header>
    <main id="main-content" role="main">
      <h1 class="products-title">Products</h1>
      <button
        id="requestProductBtn"
        class="request-product-btn"
        aria-label="Request a custom product"
      >
        üìù Request Product
      </button>
      <ul class="emoji-list" role="list" aria-label="Product list">
        <li>
          <a
            href="product-apple.html"
            class="emoji-box"
            aria-label="View Apple product details"
            >üçè</a
          >
          <a href="product-apple.html">Go to Apple</a>
        </li>
        <li>
          <a
            href="product-banana.html"
            class="emoji-box"
            aria-label="View Banana product details"
            >üçå</a
          >
          <a href="product-banana.html">Go to Banana</a>
        </li>
        <li>
          <a
            href="product-lemon.html"
            class="emoji-box"
            aria-label="View Lemon product details"
            >üçã</a
          >
          <a href="product-lemon.html">Go to Lemon</a>
        </li>
        <li>
          <a
            href="product-strawberry.html"
            class="emoji-box"
            aria-label="View Strawberry product details"
            >üçì</a
          >
          <a href="product-strawberry.html">Go to Strawberry</a>
        </li>
        <li>
          <a
            href="product-grapes.html"
            class="emoji-box"
            aria-label="View Grapes product details"
            >üçá</a
          >
          <a href="product-grapes.html">Go to Grapes</a>
        </li>
      </ul>
    </main>
    <footer>
      <a
        href="https://www.linkedin.com/in/timlolkema/"
        target="_blank"
        rel="noopener noreferrer"
      >
        By Tim Lolkema
      </a>
    </footer>
    <div id="productRequestModal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="modalTitle">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modalTitle">Request a Custom Product</h2>
          <button
            id="closeModalBtn"
            class="close-modal-btn"
            aria-label="Close modal"
          >
            ‚úï
          </button>
        </div>
        <form id="productRequestForm">
          <div class="form-group">
            <label for="productName">Product Name *</label>
            <input
              type="text"
              id="productName"
              name="productName"
              required
              placeholder="Enter product name"
            />
          </div>
          <div class="form-group">
            <label for="productDescription">Description *</label>
            <textarea
              id="productDescription"
              name="productDescription"
              required
              placeholder="Enter product description"
              rows="4"
            ></textarea>
          </div>
          <div class="form-group">
            <label for="productLink">Reference Link</label>
            <input
              type="url"
              id="productLink"
              name="productLink"
              placeholder="https://example.com (optional)"
            />
          </div>
          <div class="modal-actions">
            <button type="submit" class="submit-btn">Add to Basket</button>
            <button type="button" id="cancelBtn" class="cancel-btn">Cancel</button>
          </div>
        </form>
      </div>
    </div>
    <script src="shop.js"></script>
    <script>
      const requestProductBtn = document.getElementById("requestProductBtn");
      const closeModalBtn = document.getElementById("closeModalBtn");
      const cancelBtn = document.getElementById("cancelBtn");
      const productRequestModal = document.getElementById("productRequestModal");
      const productRequestForm = document.getElementById("productRequestForm");

      requestProductBtn.onclick = function () {
        openProductRequestModal();
      };

      closeModalBtn.onclick = function () {
        closeProductRequestModal();
      };

      cancelBtn.onclick = function () {
        closeProductRequestModal();
      };

      productRequestModal.onclick = function (e) {
        if (e.target === productRequestModal) {
          closeProductRequestModal();
        }
      };

      productRequestForm.onsubmit = function (e) {
        e.preventDefault();
        const name = document.getElementById("productName").value;
        const description = document.getElementById("productDescription").value;
        const link = document.getElementById("productLink").value;
        addCustomProductToBasket(name, description, link);
        productRequestForm.reset();
        closeProductRequestModal();
      };
    </script>
  </body>
</html>
